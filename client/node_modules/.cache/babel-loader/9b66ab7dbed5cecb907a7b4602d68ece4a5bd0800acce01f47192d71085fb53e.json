{"ast":null,"code":"import React,{useState,useEffect,useContext}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import Admin from'../Dashboard/Admin';import Customer from'../Dashboard/Customer';import styled from'styled-components';import{Loading}from'../Store/Store';import{UserContext}from'../../Context/UserContextProvider';import axiosInstance from'../../Helper/apiInterceptors';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{const[responseMsg,setResponseMsg]=useState(null);const[role,setRole]=useState(null);const navigate=useNavigate();const{dispatchInfo}=useContext(UserContext);useEffect(()=>{const checkRole=async()=>{try{const response=await axios.get(`${process.env.REACT_APP_API_BASE_URL}/dashboard`,{withCredentials:true});// const response = await axios.get(`http://localhost:8080/api/dashboard`, { withCredentials: true });\nresponse.data.role?setRole(response.data.role):setResponseMsg('دسترسی ممنوع. نقش مجاز نیست.');dispatchInfo({type:'LOGIN'});}catch(error){setResponseMsg(error.message);navigate('/login');}};checkRole();},[navigate]);return/*#__PURE__*/_jsx(\"div\",{children:role?role==='admin'?/*#__PURE__*/_jsx(Admin,{}):/*#__PURE__*/_jsx(Customer,{}):/*#__PURE__*/_jsx(Message,{children:responseMsg||/*#__PURE__*/_jsx(Loading,{children:/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 200 200\",children:[/*#__PURE__*/_jsx(\"circle\",{fill:\"#000000\",stroke:\"#000000\",\"stroke-width\":\"7\",r:\"15\",cx:\"35\",cy:\"100\",children:/*#__PURE__*/_jsx(\"animate\",{attributeName:\"cx\",calcMode:\"spline\",dur:\"1.8\",values:\"35;165;165;35;35\",keySplines:\"0 .1 .5 1;0 .1 .5 1;0 .1 .5 1;0 .1 .5 1\",repeatCount:\"indefinite\",begin:\"0\"})}),/*#__PURE__*/_jsx(\"circle\",{fill:\"#000000\",stroke:\"#000000\",\"stroke-width\":\"7\",opacity:\".8\",r:\"15\",cx:\"35\",cy:\"100\",children:/*#__PURE__*/_jsx(\"animate\",{attributeName:\"cx\",calcMode:\"spline\",dur:\"1.8\",values:\"35;165;165;35;35\",keySplines:\"0 .1 .5 1;0 .1 .5 1;0 .1 .5 1;0 .1 .5 1\",repeatCount:\"indefinite\",begin:\"0.05\"})}),/*#__PURE__*/_jsx(\"circle\",{fill:\"#000000\",stroke:\"#000000\",\"stroke-width\":\"7\",opacity:\".6\",r:\"15\",cx:\"35\",cy:\"100\",children:/*#__PURE__*/_jsx(\"animate\",{attributeName:\"cx\",calcMode:\"spline\",dur:\"1.8\",values:\"35;165;165;35;35\",keySplines:\"0 .1 .5 1;0 .1 .5 1;0 .1 .5 1;0 .1 .5 1\",repeatCount:\"indefinite\",begin:\".1\"})}),/*#__PURE__*/_jsx(\"circle\",{fill:\"#000000\",stroke:\"#000000\",\"stroke-width\":\"7\",opacity:\".4\",r:\"15\",cx:\"35\",cy:\"100\",children:/*#__PURE__*/_jsx(\"animate\",{attributeName:\"cx\",calcMode:\"spline\",dur:\"1.8\",values:\"35;165;165;35;35\",keySplines:\"0 .1 .5 1;0 .1 .5 1;0 .1 .5 1;0 .1 .5 1\",repeatCount:\"indefinite\",begin:\".15\"})}),/*#__PURE__*/_jsx(\"circle\",{fill:\"#000000\",stroke:\"#000000\",\"stroke-width\":\"7\",opacity:\".2\",r:\"15\",cx:\"35\",cy:\"100\",children:/*#__PURE__*/_jsx(\"animate\",{attributeName:\"cx\",calcMode:\"spline\",dur:\"1.8\",values:\"35;165;165;35;35\",keySplines:\"0 .1 .5 1;0 .1 .5 1;0 .1 .5 1;0 .1 .5 1\",repeatCount:\"indefinite\",begin:\".2\"})})]})})})});};export default Dashboard;// Styled Component\nconst DashboardContainer=styled.div`\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    padding: 200px;\n    max-width: 90%;\n    margin: auto;\n    background-color: #ff0000;\n    border-radius: 102px;\n    box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.15);\n    min-height: 60vh;\n`;const Message=styled.p`\n    font-family: 'Poppins', sans-serif;\n    font-size: 16px;\n    color: #333;\n    text-align: center;\n`;","map":{"version":3,"names":["React","useState","useEffect","useContext","useNavigate","axios","Admin","Customer","styled","Loading","UserContext","axiosInstance","jsx","_jsx","jsxs","_jsxs","Dashboard","responseMsg","setResponseMsg","role","setRole","navigate","dispatchInfo","checkRole","response","get","process","env","REACT_APP_API_BASE_URL","withCredentials","data","type","error","message","children","Message","xmlns","viewBox","fill","stroke","r","cx","cy","attributeName","calcMode","dur","values","keySplines","repeatCount","begin","opacity","DashboardContainer","div","p"],"sources":["C:/Users/computer/Desktop/templates/shop/client/src/component/Dashboard/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Admin from '../Dashboard/Admin';\r\nimport Customer from '../Dashboard/Customer';\r\nimport styled from 'styled-components';\r\nimport { Loading } from '../Store/Store';\r\nimport { UserContext } from '../../Context/UserContextProvider';\r\nimport axiosInstance from '../../Helper/apiInterceptors';\r\n\r\n\r\nconst Dashboard = () => {\r\n    const [responseMsg, setResponseMsg] = useState(null);\r\n    const [role, setRole] = useState(null);\r\n    const navigate = useNavigate();\r\n    const { dispatchInfo } = useContext(UserContext)\r\n\r\n    useEffect(() => {\r\n        const checkRole = async () => {\r\n            try {\r\n                const response = await axios.get(`${process.env.REACT_APP_API_BASE_URL}/dashboard`, { withCredentials: true });\r\n                // const response = await axios.get(`http://localhost:8080/api/dashboard`, { withCredentials: true });\r\n                response.data.role ? setRole(response.data.role) : setResponseMsg('دسترسی ممنوع. نقش مجاز نیست.');\r\n                dispatchInfo({ type: 'LOGIN' });\r\n\r\n            } catch (error) {\r\n                setResponseMsg(error.message);\r\n                navigate('/login')\r\n            }\r\n        };\r\n        checkRole();\r\n    }, [navigate]);\r\n\r\n    return (\r\n        <div>\r\n            {role ? (\r\n                role === 'admin' ? <Admin /> : <Customer />\r\n            ) : (\r\n                <Message>{responseMsg || <Loading><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 200 200\"><circle fill=\"#000000\" stroke=\"#000000\" stroke-width=\"7\" r=\"15\" cx=\"35\" cy=\"100\"><animate attributeName=\"cx\" calcMode=\"spline\" dur=\"1.8\" values=\"35;165;165;35;35\" keySplines=\"0 .1 .5 1;0 .1 .5 1;0 .1 .5 1;0 .1 .5 1\" repeatCount=\"indefinite\" begin=\"0\"></animate></circle><circle fill=\"#000000\" stroke=\"#000000\" stroke-width=\"7\" opacity=\".8\" r=\"15\" cx=\"35\" cy=\"100\"><animate attributeName=\"cx\" calcMode=\"spline\" dur=\"1.8\" values=\"35;165;165;35;35\" keySplines=\"0 .1 .5 1;0 .1 .5 1;0 .1 .5 1;0 .1 .5 1\" repeatCount=\"indefinite\" begin=\"0.05\"></animate></circle><circle fill=\"#000000\" stroke=\"#000000\" stroke-width=\"7\" opacity=\".6\" r=\"15\" cx=\"35\" cy=\"100\"><animate attributeName=\"cx\" calcMode=\"spline\" dur=\"1.8\" values=\"35;165;165;35;35\" keySplines=\"0 .1 .5 1;0 .1 .5 1;0 .1 .5 1;0 .1 .5 1\" repeatCount=\"indefinite\" begin=\".1\"></animate></circle><circle fill=\"#000000\" stroke=\"#000000\" stroke-width=\"7\" opacity=\".4\" r=\"15\" cx=\"35\" cy=\"100\"><animate attributeName=\"cx\" calcMode=\"spline\" dur=\"1.8\" values=\"35;165;165;35;35\" keySplines=\"0 .1 .5 1;0 .1 .5 1;0 .1 .5 1;0 .1 .5 1\" repeatCount=\"indefinite\" begin=\".15\"></animate></circle><circle fill=\"#000000\" stroke=\"#000000\" stroke-width=\"7\" opacity=\".2\" r=\"15\" cx=\"35\" cy=\"100\"><animate attributeName=\"cx\" calcMode=\"spline\" dur=\"1.8\" values=\"35;165;165;35;35\" keySplines=\"0 .1 .5 1;0 .1 .5 1;0 .1 .5 1;0 .1 .5 1\" repeatCount=\"indefinite\" begin=\".2\"></animate></circle></svg></Loading>}</Message>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Dashboard;\r\n\r\n\r\n// Styled Component\r\nconst DashboardContainer = styled.div`\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    justify-content: center;\r\n    padding: 200px;\r\n    max-width: 90%;\r\n    margin: auto;\r\n    background-color: #ff0000;\r\n    border-radius: 102px;\r\n    box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.15);\r\n    min-height: 60vh;\r\n`;\r\n\r\nconst Message = styled.p`\r\n    font-family: 'Poppins', sans-serif;\r\n    font-size: 16px;\r\n    color: #333;\r\n    text-align: center;\r\n`;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}