{"ast":null,"code":"import React,{act,createContext,useReducer}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const initialState={selectedItems:[],productsInCheckOut:[],checkout:false};const ACTIONS={addInitialItem:'ADD_ITEM',addMore:'INCREASE',removeInitialItem:'REMOVE',removeMore:'DECREASE',checkout:'CHECKOUT'};const reducer=(state,action)=>{switch(action.type){case ACTIONS.addInitialItem:const existingItem=state.selectedItems.find(item=>item.id===action.payload._id);if(!existingItem){return{...state,selectedItems:[...state.selectedItems,{...action.payload,quantity:1}],productsInCheckOut:[...state.productsInCheckOut,action.payload.name]};}return state;case ACTIONS.addMore:const index=state.selectedItems.findIndex(item=>{return item._id===action.payload._id;});if(index!==-1){const updatedItems=[...state.selectedItems];updatedItems[index]={...updatedItems[index],quantity:updatedItems[index].quantity+1};return{...state,selectedItems:updatedItems};}return state;case ACTIONS.removeInitialItem:const newSelectedItems=state.selectedItems.filter(item=>item._id!==action.payload._id);const newProductsInCheckOut=state.productsInCheckOut.filter(item=>item==action.payload.name);return{...state,selectedItems:newSelectedItems,productsInCheckOut:newProductsInCheckOut};case ACTIONS.removeMore:const indexx=state.selectedItems.findIndex(item=>{return item._id===action.payload._id;});if(indexx!==-1){const updatedItems=[...state.selectedItems];updatedItems[indexx]={...updatedItems[indexx],quantity:updatedItems[indexx].quantity-1};return{...state,selectedItems:updatedItems};}return state;case ACTIONS.checkout:return{...state,checkout:true};default:return state;}};export const ProductContext=/*#__PURE__*/createContext();const ProductContextProvider=_ref=>{let{children}=_ref;const[state,dispatch]=useReducer(reducer,initialState);return/*#__PURE__*/_jsx(ProductContext.Provider,{value:{state,dispatch},children:children});};export default ProductContextProvider;","map":{"version":3,"names":["React","act","createContext","useReducer","jsx","_jsx","initialState","selectedItems","productsInCheckOut","checkout","ACTIONS","addInitialItem","addMore","removeInitialItem","removeMore","reducer","state","action","type","existingItem","find","item","id","payload","_id","quantity","name","index","findIndex","updatedItems","newSelectedItems","filter","newProductsInCheckOut","indexx","ProductContext","ProductContextProvider","_ref","children","dispatch","Provider","value"],"sources":["C:/Users/computer/Desktop/templates/shop/client/src/Context/ProductContextProvider.js"],"sourcesContent":["import React, { act, createContext, useReducer } from 'react';\r\n\r\n\r\nconst initialState = {\r\n    selectedItems: [],\r\n    productsInCheckOut: [],\r\n    checkout: false,\r\n}\r\n\r\nconst ACTIONS = {\r\n    addInitialItem: 'ADD_ITEM',\r\n    addMore: 'INCREASE',\r\n    removeInitialItem: 'REMOVE',\r\n    removeMore: 'DECREASE',\r\n    checkout: 'CHECKOUT',\r\n}\r\n\r\nconst reducer = (state, action) => {\r\n    switch (action.type) {\r\n        case ACTIONS.addInitialItem:\r\n            const existingItem = state.selectedItems.find(item => item.id === action.payload._id);\r\n            if (!existingItem) {\r\n                return {\r\n                    ...state,\r\n                    selectedItems: [...state.selectedItems, { ...action.payload, quantity: 1 }],\r\n                    productsInCheckOut: [...state.productsInCheckOut, action.payload.name]\r\n                };\r\n            }\r\n            return state;\r\n\r\n        case ACTIONS.addMore:\r\n            const index = state.selectedItems.findIndex(item => {\r\n                return item._id === action.payload._id;\r\n            });\r\n            if (index !== -1) {\r\n                const updatedItems = [...state.selectedItems];\r\n                updatedItems[index] = {\r\n                    ...updatedItems[index],\r\n                    quantity: updatedItems[index].quantity + 1\r\n                };\r\n                return {\r\n                    ...state,\r\n                    selectedItems: updatedItems\r\n                };\r\n            }\r\n            return state;\r\n\r\n        case ACTIONS.removeInitialItem:\r\n            const newSelectedItems = state.selectedItems.filter(item => item._id !== action.payload._id)\r\n            const newProductsInCheckOut = state.productsInCheckOut.filter(item => item == action.payload.name)\r\n\r\n            return {\r\n                ...state,\r\n                selectedItems: newSelectedItems,\r\n                productsInCheckOut: newProductsInCheckOut\r\n            }\r\n        case ACTIONS.removeMore:\r\n            const indexx = state.selectedItems.findIndex(item => {\r\n                return item._id === action.payload._id;\r\n            });\r\n            if (indexx !== -1) {\r\n                const updatedItems = [...state.selectedItems];\r\n                updatedItems[indexx] = {\r\n                    ...updatedItems[indexx],\r\n                    quantity: updatedItems[indexx].quantity - 1\r\n                };\r\n                return {\r\n                    ...state,\r\n                    selectedItems: updatedItems\r\n                };\r\n            }\r\n            return state;\r\n\r\n        case ACTIONS.checkout:\r\n            return {\r\n                ...state,\r\n                checkout: true\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nexport const ProductContext = createContext();\r\nconst ProductContextProvider = ({ children }) => {\r\n    const [state, dispatch] = useReducer(reducer, initialState);\r\n    return (\r\n        <ProductContext.Provider value={{ state, dispatch }}>\r\n            {children}\r\n        </ProductContext.Provider>\r\n    );\r\n};\r\n\r\nexport default ProductContextProvider;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}